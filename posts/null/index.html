<!DOCTYPE html>

<html lang="zh-CN">

<head>
  
  <title>前端跨域问题 - Blog</title>
  <meta charset="UTF-8">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  
  

  <link rel="shortcut icon" href="favicon.ico" type="image/png" />
  <meta name="description" content="在项目中遇到前端跨域问题，便去了解一下跨域的原因，并总结了几个常用解决方案，便写下这篇博文以作记录。">
<meta property="og:type" content="article">
<meta property="og:title" content="前端跨域问题">
<meta property="og:url" content="https://guangyuzhan.github.io/posts/null/index.html">
<meta property="og:site_name" content="Blog">
<meta property="og:description" content="在项目中遇到前端跨域问题，便去了解一下跨域的原因，并总结了几个常用解决方案，便写下这篇博文以作记录。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-05-07T09:56:59.000Z">
<meta property="article:modified_time" content="2021-04-09T14:20:45.223Z">
<meta property="article:author" content="雨涵">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="困难解决">
<meta name="twitter:card" content="summary">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/combine/npm/highlight.js@9.15.8/styles/atom-one-dark.css,gh/theme-nexmoe/hexo-theme-nexmoe@latest/source/lib/mdui_043tiny/css/mdui.css,gh/theme-nexmoe/hexo-theme-nexmoe@latest/source/lib/iconfont/iconfont.css,gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css?v=233" crossorigin>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css">
  
  <link rel="stylesheet" href="/css/style.css?v=1617978090080">
<meta name="generator" content="Hexo 5.4.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>

<body class="mdui-drawer-body-left">
  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(https://yuhans.oss-cn-beijing.aliyuncs.com/bgc/hello%20word.jpg)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
        <div class="mdui-toolbar-spacer"></div>
        <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
        <a href="/" title="雨涵" class="mdui-btn mdui-btn-icon"><img src="https://yuhans.oss-cn-beijing.aliyuncs.com/bgc/head.jpg" alt="雨涵"></a>
       </div>
    </div>
  </div>
  <div id="nexmoe-header">
      <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="雨涵">
            <img src="https://yuhans.oss-cn-beijing.aliyuncs.com/bgc/head.jpg" alt="雨涵" alt="雨涵">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>文章</span>6</div>
        <div><span>标签</span>13</div>
        <div><span>分类</span>0</div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/archives" title="文章归档">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                文章归档
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about.html" title="关于博客">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                关于博客
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/PY.html" title="我的朋友">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                我的朋友
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
  
  <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search">
        <form id="search_form" action_e="https://cn.bing.com/search?q=site:yuhan.space.com/" onsubmit="return search();">
            <label><input id="search_value" name="q" type="search" placeholder="搜索"></label>
        </form>
    </div>
</div>
  
  <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/438086406" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/GuangyuZhan" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15）;">
            <i class="nexmoefont icon-github"></i>
        </a><a class="mdui-ripple" href="/" target="_blank" mdui-tooltip="{content: 'rss'}" style="color: t;background-color: o;">
            <i class="nexmoefont a"></i>
        </a>
    </div>
</div>
  
  

  
  
  <div class="nexmoe-widget-wrap">
    <div id="randomtagcloud" class="nexmoe-widget tagcloud nexmoe-rainbow">
      <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/me/" style="font-size: 13.33px;">me</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/php/" style="font-size: 10px;">php</a> <a href="/tags/python-python%E5%9F%BA%E7%A1%80/" style="font-size: 10px;">python,python基础</a> <a href="/tags/python-%E7%88%AC%E8%99%AB/" style="font-size: 10px;">python,爬虫</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 20px;">前端</a> <a href="/tags/%E5%89%8D%E7%AB%AF-css/" style="font-size: 10px;">前端,css</a> <a href="/tags/%E5%89%8D%E7%AB%AF-html/" style="font-size: 10px;">前端,html</a> <a href="/tags/%E5%89%8D%E7%AB%AF-js/" style="font-size: 10px;">前端,js</a> <a href="/tags/%E5%9B%B0%E9%9A%BE%E8%A7%A3%E5%86%B3/" style="font-size: 10px;">困难解决</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 16.67px;">工具</a>
    </div>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">最新文章</h3>
    <div class="nexmoe-widget">
      <ul>
        
          <li>
            <a href="/posts/null/">前端跨域问题</a>
          </li>
        
          <li>
            <a href="/posts/2376216108/">工具（三）</a>
          </li>
        
          <li>
            <a href="/posts/3233582462/">工具（二）</a>
          </li>
        
          <li>
            <a href="/posts/3ee94c8c/">工具（一）</a>
          </li>
        
          <li>
            <a href="/posts/d95d7e09/">我的第一篇博客</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
    <div class="nexmoe-copyright">
      <span style="color: #00b8d4">&copy; 2021 雨涵</span>
      <br/>
      <div style="color: #00b8d4">Total <span id="busuanzi_value_site_pv"></span> views.
          <br/>
          您是雨涵小屋的
          <br/>
          第<span id="busuanzi_value_site_uv"></span>个小伙伴
          <br/>
          <span id="busuanzi_value_page_pv"></span> likes</div>
      Powered by
      <br/>
      <a href="http://hexo.io/" target="_blank">Hexo</a>
      & <a href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank">Nexmoe</a>
      <br/>
      <a href="http://www.beian.miit.gov.cn/" style="color:#f72b07" target="_blank">鄂ICP备20009209号-1</a>
    </div>
    
</div><!-- .nexmoe-drawer -->
  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
        <div class="nexmoe-post">
  
      <div class="nexmoe-post-cover" style="padding-bottom: 50%;"> 
          <img data-src="https://yuhans.oss-cn-beijing.aliyuncs.com/bgc/first.jpg" data-sizes="auto" alt="前端跨域问题" class="lazyload">
          <h1>前端跨域问题</h1>
      </div>
  
  
  <div class="nexmoe-post-meta nexmoe-rainbow" style="margin:10px 0!important;">
    <a><i class="nexmoefont icon-calendar-fill"></i>2020年05月07日</a>
    <a><i class="nexmoefont icon-areachart"></i>1k 字</a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>大概 4 分钟</a>
</div>

  <div class="nexmoe-post-right">
    
      <div class="nexmoe-fixed">
        <div class="nexmoe-valign">
            <div class="nexmoe-toc">
                
                
                  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%95%E4%B8%BA%E8%B7%A8%E5%9F%9F%EF%BC%9F"><span class="toc-number">1.</span> <span class="toc-text">何为跨域？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E4%B9%89%E7%9A%84%E8%B7%A8%E5%9F%9F%EF%BC%9A"><span class="toc-number">1.1.</span> <span class="toc-text">广义的跨域：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%EF%BC%9F"><span class="toc-number">1.2.</span> <span class="toc-text">什么是同源策略？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%89%8D%E7%AB%AF%E8%B7%A8%E5%9F%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">常见前端跨域解决方案：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-JSONP%E8%A7%A3%E5%86%B3"><span class="toc-number">2.1.</span> <span class="toc-text">1.JSONP解决</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E7%94%9Fjs%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.2.</span> <span class="toc-text">原生js实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-nodejs%E4%B8%AD%E9%97%B4%E4%BB%B6%E4%BB%A3%E7%90%86%E8%B7%A8%E5%9F%9F"><span class="toc-number">2.2.1.</span> <span class="toc-text">2.nodejs中间件代理跨域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%9D%9Evue%E6%A1%86%E6%9E%B6%E8%B7%A8%E5%9F%9F%EF%BC%9A"><span class="toc-number">2.2.2.</span> <span class="toc-text">1.非vue框架跨域：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-number">2.2.2.1.</span> <span class="toc-text">前端代码：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-vue%E6%A1%86%E6%9E%B6%E4%B8%8B%E8%A7%A3%E5%86%B3"><span class="toc-number">2.2.3.</span> <span class="toc-text">2.vue框架下解决</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Webpack-config-js-dev%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-number">2.2.3.1.</span> <span class="toc-text">Webpack.config.js-dev代码：</span></a></li></ol></li></ol></li></ol></li></ol>
                
            </div>
        </div>
      </div>
    
  </div>

  <article>
    <p>在项目中遇到前端跨域问题，便去了解一下跨域的原因，并总结了几个常用解决方案，便写下这篇博文以作记录。</p>
<hr>
<span id="more"></span>

<h2 id="何为跨域？"><a href="#何为跨域？" class="headerlink" title="何为跨域？"></a>何为跨域？</h2><p>以下是引用wiki百科的解答，您可以花几分钟好好读一下。</p>
<blockquote>
<p><strong>跨域资源共享</strong>（英语：Cross-origin resource sharing，缩写：CORS），用于让网页的受限资源能够被其他<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D">域名</a>的页面访问的一种机制。[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%B7%A8%E4%BE%86%E6%BA%90%E8%B3%87%E6%BA%90%E5%85%B1%E4%BA%AB#cite_note-mozhacks_cors2-1">1]</a></p>
<p>通过该机制，页面能够自由地使用不同源（英语：cross-origin）的图片、样式、脚本、iframes以及视频。[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%B7%A8%E4%BE%86%E6%BA%90%E8%B3%87%E6%BA%90%E5%85%B1%E4%BA%AB#cite_note-2">2]</a>一些跨<strong>域</strong>的请求（特别是Ajax）常常会被同源策略（英语：Same-origin policy）所禁止的。跨源资源共享定义了一种方式，为的是浏览器和服务器之间能互相确认是否足够安全以至于能使用跨源请求（英语：cross-origin requests）。[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%B7%A8%E4%BE%86%E6%BA%90%E8%B3%87%E6%BA%90%E5%85%B1%E4%BA%AB#cite_note-nczonline1-3">3]</a>比起纯粹的同源请求，这将更为自由和功能性的（functionality ），但比纯粹的跨源请求更为安全。</p>
<p>跨域资源共享是一份浏览器技术的规范，提供了 Web 服务从不同网域传来<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%B2%99%E7%9B%92_(%E9%9B%BB%E8%85%A6%E5%AE%89%E5%85%A8)">沙盒</a>脚本的方法，以避开浏览器的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5">同源策略</a>[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%B7%A8%E4%BE%86%E6%BA%90%E8%B3%87%E6%BA%90%E5%85%B1%E4%BA%AB#cite_note-mozhacks_cors-4">4]</a>。</p>
</blockquote>
<p>wiki百科上面的介绍比较的晦涩，让人摸不着头脑，广义来说跨域即是一个域请求另一个域的资源</p>
<h3 id="广义的跨域："><a href="#广义的跨域：" class="headerlink" title="广义的跨域："></a>广义的跨域：</h3><p><code>1.资源跳转：重定向、表单提交、A链接。</code></p>
<p><code>2.资源嵌入：&lt;script&gt;、&lt;frame&gt;、&lt;img&gt;、&lt;link&gt;等dom标签，css中的background : url( )等文件。</code></p>
<p><code>3.脚本请求：js发送的aiax请求、dom和js对象的跨域操作等。</code></p>
<p>而我们通常所说的是狭义的跨域，是由浏览器同源策略限制的一类请求场景</p>
<h3 id="什么是同源策略？"><a href="#什么是同源策略？" class="headerlink" title="什么是同源策略？"></a>什么是同源策略？</h3><blockquote>
<p><strong>同源策略</strong>是一种约定，由Netscape公司1995年引入浏览器，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，浏览器很容易受到XSS、CSFR等攻击。所谓同源是指”协议+域名+端口”三者相同，即便两个不同的域名指向同一个ip地址，也非同源。</p>
</blockquote>
<p>同源策略主要限制ajax请求不能发送，重点在于“<strong>协议+域名+端口</strong>”，即只有三者完全相同才可通信，否则则被限制。</p>
<h2 id="常见前端跨域解决方案："><a href="#常见前端跨域解决方案：" class="headerlink" title="常见前端跨域解决方案："></a>常见前端跨域解决方案：</h2><h3 id="1-JSONP解决"><a href="#1-JSONP解决" class="headerlink" title="1.JSONP解决"></a>1.JSONP解决</h3><p>​    <code>由于&lt;script&gt;标签没有跨域限制，通过&lt;script&gt;标签src属性，发送带有callback参数的get请求，服务端将接口数据放入callback函数中，返回给浏览器解析展示。</code></p>
<h3 id="原生js实现"><a href="#原生js实现" class="headerlink" title="原生js实现"></a>原生js实现</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">   <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">   script.type = <span class="string">'text/javascript'</span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 传参一个回调函数名给后端，方便后端返回时执行这个在前端定义的回调函数</span></span><br><span class="line">   script.src = <span class="string">'http://www.domain2.com:8080/login?user=admin&amp;callback=handleCallback'</span>;</span><br><span class="line">   <span class="built_in">document</span>.head.appendChild(script);</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 回调执行函数</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">handleCallback</span>(<span class="params">res</span>) </span>{</span><br><span class="line">       alert(<span class="built_in">JSON</span>.stringify(res));</span><br><span class="line">   }</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>``</p>
<p><strong>注意解析一定要用JSON.stringfy</strong></p>
<h4 id="2-nodejs中间件代理跨域"><a href="#2-nodejs中间件代理跨域" class="headerlink" title="2.nodejs中间件代理跨域"></a>2.nodejs<a target="_blank" rel="noopener" href="https://coding.imooc.com/?c=zjj">中间件</a>代理跨域</h4><p>​    我最开始想到的方法，node充当中间件，通过代理服务器实现数据转发。分为两种情况：</p>
<h4 id="1-非vue框架跨域："><a href="#1-非vue框架跨域：" class="headerlink" title="1.非vue框架跨域："></a>1.非vue框架跨域：</h4><p>​    使用node + express + http-proxy-middleware搭建一个proxy服务器。</p>
<ul>
<li><h5 id="前端代码："><a href="#前端代码：" class="headerlink" title="前端代码："></a>前端代码：</h5><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xhr.withCredentials = <span class="literal">true</span>;</span><br><span class="line">xhr.open(<span class="string">'get'</span>, <span class="string">'http://www.domain1.com:3000/login?user=admin'</span>, <span class="literal">true</span>);</span><br><span class="line">xhr.send();</span><br><span class="line">zhoizho</span><br></pre></td></tr></tbody></table></figure></li>
<li><p><strong>中间件代码：</strong></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var express = require('express');</span><br><span class="line">var proxy = require('http-proxy-middleware');</span><br><span class="line">var app = express();</span><br><span class="line">app.use('/', proxy({</span><br><span class="line">    target: 'http://www.domain2.com:8080',</span><br><span class="line">    changeOrigin: true,</span><br><span class="line"></span><br><span class="line">    onProxyRes: function(proxyRes, req, res) {</span><br><span class="line">        res.header('Access-Control-Allow-Origin', 'http://www.domain1.com');</span><br><span class="line">        res.header('Access-Control-Allow-Credentials', 'true');</span><br><span class="line">    },</span><br><span class="line">    cookieDomainRewrite: 'www.domain1.com' </span><br><span class="line">}));</span><br><span class="line"></span><br><span class="line">app.listen(3000);</span><br><span class="line">console.log('Proxy server is listen at port 8000...');</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<h4 id="2-vue框架下解决"><a href="#2-vue框架下解决" class="headerlink" title="2.vue框架下解决"></a>2.vue框架下解决</h4><p>​    vue+webpack已经提供了现成的解决方案–webpack-dev-server,</p>
<p>但该解决方案只适合开发版本！！！</p>
<h5 id="Webpack-config-js-dev代码："><a href="#Webpack-config-js-dev代码：" class="headerlink" title="Webpack.config.js-dev代码："></a>Webpack.config.js-dev代码：</h5><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">devServer: {</span><br><span class="line">       historyApiFallback: <span class="literal">true</span>,</span><br><span class="line">       proxy: [{</span><br><span class="line">           context: <span class="string">'/login'</span>,</span><br><span class="line">           target: <span class="string">'http://www.domain2.com:8080'</span>, </span><br><span class="line">           changeOrigin: <span class="literal">true</span>,</span><br><span class="line">           secure: <span class="literal">false</span>, </span><br><span class="line">           cookieDomainRewrite: <span class="string">'www.domain1.com'</span>   </span><br><span class="line">       }],</span><br></pre></td></tr></tbody></table></figure>



<p>以上就是这次所说的解决方案，当然方案还有很多，毕竟学无止境哈哈哈，以后再面对不一样的业务场景用到了其他方法再慢慢补充。</p>

  </article>

  
    
  <div class="nexmoe-post-copyright">
    <strong>本文作者：</strong>雨涵<br>
    <strong>本文链接：</strong><a href="https://guangyuzhan.github.io/posts/null/" title="https:&#x2F;&#x2F;guangyuzhan.github.io&#x2F;posts&#x2F;null&#x2F;" target="_blank" rel="noopener">https:&#x2F;&#x2F;guangyuzhan.github.io&#x2F;posts&#x2F;null&#x2F;</a><br>
    
      <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可
    
  </div>


  
  
  <div class="nexmoe-post-meta nexmoe-rainbow">
    
    
        <a class="nexmoefont icon-tag-fill -none-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a> <a class="nexmoefont icon-tag-fill -none-link" href="/tags/%E5%9B%B0%E9%9A%BE%E8%A7%A3%E5%86%B3/" rel="tag">困难解决</a>
    
</div>

  <div class="nexmoe-post-footer">
    <section class="nexmoe-comment">
    <div class="valine"></div>
<script src='https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>
<script>
    // 使用方法 https://valine.js.org/quickstart.html
    new Valine({
        el: '.valine',
        appId: 'p3PsRYG6o8iBkHYEbUujt595-gzGzoHsz',
        appKey: 'UB80dA6D38MrDL7b6vGytgMp'
    })
</script>
</section>
  </div>
</div>
        <div class="nexmoe-post-right">
          <div class="nexmoe-fixed">
            <div class="nexmoe-tool">
              <a href="#nexmoe-content" class="toc-link" aria-label="回到顶部" title="top"><button class="mdui-fab mdui-ripple"><i class="nexmoefont icon-caret-top"></i></button></a>
            </div>
          </div>
        </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/combine/npm/lazysizes@5.1.0/lazysizes.min.js,gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js,npm/mdui@0.4.3/dist/js/mdui.min.js?v=1"></script>
<script>
	hljs.initHighlightingOnLoad();
</script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


<script src="https://cdn.jsdelivr.net/gh/xtaodada/xtaodada.github.io@0.0.2/copy.js"></script>
 

<script src="/js/app.js?v=1617978090082"></script>

<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js"></script>
<script>
	$(".justified-gallery").justifiedGallery({
		rowHeight: 160,
		margins: 10,
	});
</script>

  





    <!-- baidu Analytics -->
<script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?4551676b3a156bc5db6604181b8f6924';
    var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body>

</html>
